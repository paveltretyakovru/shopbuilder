// Generated by CoffeeScript 1.9.0
var AdminApp;

AdminApp = {
  Views: {},
  Collections: {},
  Models: {},
  initViews: {},
  initModels: {},
  initCollections: {}
};

AdminApp.Views.categoryParameters = Backbone.View.extend({
  el: '#edit-categories-form',
  $elParams: $('#category-edit-parameters'),
  $elLabels: $('#parameters-links'),
  parameters: [],
  events: {
    'keypress #category-edit-parameters': 'enterText'
  },
  enterText: function(e) {
    var parameter, parameters, _i, _len;
    this.parameters = [];
    parameters = this.$elParams.val().split(',');
    for (_i = 0, _len = parameters.length; _i < _len; _i++) {
      parameter = parameters[_i];
      this.addParameter(parameter);
    }
    return this.insertLabels();
  },
  addParameter: function(parameter) {
    parameter = $.trim(parameter);
    if (this.parameters.indexOf(parameter) === -1 && parameter !== '') {
      return this.parameters.push(parameter);
    }
  },
  insertLabels: function() {
    var createLink, parameter, string, _i, _len, _ref;
    string = "";
    createLink = function(parameter) {
      return " <a href='#' class='label label-primary'>" + parameter + "</a> ";
    };
    _ref = this.parameters;
    for (_i = 0, _len = _ref.length; _i < _len; _i++) {
      parameter = _ref[_i];
      string += createLink(parameter);
    }
    return this.$elLabels.html(string);
  }
});

AdminApp.initViews.categoryParameters = new AdminApp.Views.categoryParameters();
